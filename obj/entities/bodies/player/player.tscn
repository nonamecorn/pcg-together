[gd_scene load_steps=16 format=3 uid="uid://cj42rivp6owbq"]

[ext_resource type="PackedScene" uid="uid://vxlnckbeqm4y" path="res://components/mother_body.tscn" id="1_e42ip"]
[ext_resource type="Script" uid="uid://bm3wjni3c3813" path="res://obj/entities/bodies/player/player.gd" id="2_kpwks"]
[ext_resource type="Script" uid="uid://xh3m1kb2p3tb" path="res://obj/entities/bodies/player/player_walk_state.gd" id="3_mmb6a"]
[ext_resource type="Texture2D" uid="uid://pfwngoqau3pu" path="res://img/bodies/player/Player_animsheet.png" id="3_r4var"]
[ext_resource type="Texture2D" uid="uid://cl2t0plbw7owg" path="res://img/bodies/player/Player_animsheet_n.png" id="4_8mvx4"]
[ext_resource type="Script" uid="uid://cvf00qxxsh3gc" path="res://obj/entities/bodies/player/inventory_state.gd" id="4_w8mye"]
[ext_resource type="Script" uid="uid://cyvxfk0l26uc5" path="res://obj/entities/bodies/player/player_hand.gd" id="5_kjt16"]
[ext_resource type="Script" uid="uid://6qchh0308yjc" path="res://obj/entities/bodies/player/camera_2d.gd" id="5_w8mye"]
[ext_resource type="PackedScene" uid="uid://dhhg35brss5lu" path="res://UI/inventory.tscn" id="7_bmp72"]
[ext_resource type="Texture2D" uid="uid://bd8c6yrx713ol" path="res://img/misc/256x256 textures (101).png" id="10_jevgb"]

[sub_resource type="CanvasTexture" id="CanvasTexture_cnqlk"]
diffuse_texture = ExtResource("3_r4var")
normal_texture = ExtResource("4_8mvx4")

[sub_resource type="Animation" id="Animation_kvt5g"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BodySprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_8mvx4"]
resource_name = "idle"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BodySprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [0, 1]
}

[sub_resource type="Animation" id="Animation_cnqlk"]
resource_name = "walk"
length = 0.4
loop_mode = 1
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BodySprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.05, 0.1, 0.15, 0.2, 0.25, 0.3, 0.35),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [2, 3, 4, 5, 6, 7, 8, 9]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ohwt3"]
_data = {
&"RESET": SubResource("Animation_kvt5g"),
&"idle": SubResource("Animation_8mvx4"),
&"walk": SubResource("Animation_cnqlk")
}

[node name="Player" instance=ExtResource("1_e42ip")]
process_physics_priority = 1
script = ExtResource("2_kpwks")
MAX_HP = 10000.0

[node name="BodySprite" parent="." index="1"]
texture = SubResource("CanvasTexture_cnqlk")
hframes = 10

[node name="AnimationPlayer" parent="." index="2"]
libraries = {
&"": SubResource("AnimationLibrary_ohwt3")
}

[node name="FSM" parent="." index="3" node_paths=PackedStringArray("initial_state")]
initial_state = NodePath("Walk")

[node name="Dead" parent="FSM" index="0" node_paths=PackedStringArray("animation", "handmarker")]
animation = NodePath("../../AnimationPlayer")
handmarker = NodePath("../../Hand/Handmarker")

[node name="Walk" type="Node" parent="FSM" index="1" node_paths=PackedStringArray("player", "animation")]
script = ExtResource("3_mmb6a")
player = NodePath("../..")
animation = NodePath("../../AnimationPlayer")

[node name="Inventory" type="Node" parent="FSM" index="2" node_paths=PackedStringArray("inventory", "animation", "handmarker")]
script = ExtResource("4_w8mye")
inventory = NodePath("../../CanvasLayer/Inventory")
animation = NodePath("../../AnimationPlayer")
handmarker = NodePath("../../Hand/Handmarker")

[node name="cursor" parent="." index="5"]
visible = true
HANDLING_SPEED = 10.0
player_handled = true

[node name="Camera2D" type="Camera2D" parent="." index="6" node_paths=PackedStringArray("cursor")]
zoom = Vector2(3, 3)
position_smoothing_enabled = true
script = ExtResource("5_w8mye")
cursor = NodePath("../cursor")
scope = 50.0

[node name="CanvasLayer" type="CanvasLayer" parent="." index="7"]

[node name="Inventory" parent="CanvasLayer" index="0" instance=ExtResource("7_bmp72")]
visible = false

[node name="Hand" parent="." index="8"]
position = Vector2(-2, -16)
script = ExtResource("5_kjt16")

[node name="PointLight2D" type="PointLight2D" parent="." index="9"]
shadow_enabled = true
shadow_filter_smooth = 20.0
texture = ExtResource("10_jevgb")
height = 250.0

[node name="PointLight2D2" type="PointLight2D" parent="." index="10"]
range_item_cull_mask = 2
shadow_item_cull_mask = 2
texture = ExtResource("10_jevgb")
height = 30.0
